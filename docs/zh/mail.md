# 邮箱配置

任何一个社区都需要给用户发送邮件，用于激活账户、重置密码、接收通知以及私信其他用户。身为论坛管理员，安装 Flarum 后要先做其中一件事，就是配置邮件服务！如果没有配置好，用户将无法注册。

## 支持的邮件驱动

Flarum 默认提供以下驱动，若有需要，开发者可自行开发扩展程序添加 [自定义邮件驱动（尚未翻译）](https://docs.flarum.org/extend/mail.html)。

### SMTP

最常用的邮件驱动。您需要配置主机地址、端口、加密方式、用户名和密码，以使用外部 SMTP 服务。请注意，加密方式必须为小写的 `ssl` 或 `tls`。

### Mail

`mail` 驱动会尝试使用大多数托管服务器上都有的 sendmail / postfix 邮件系统。您必须在服务器上正确安装并配置好 sendmail 才能正常工作。

### Mailgun

此驱动通过您的 [Mailgun](https://www.mailgun.com/) 账户来发送邮件。您需要填写 secret key 和在 Mailgun 中配置的域名、区域。

要使用 mailgun 驱动，您还需要安装 Guzzle composer 包（一个 PHP HTTP 客户端）。在 Flarum 安装根目录运行 `composer require guzzlehttp/guzzle:^6.0|^7.0` 即可安装。

### Log

日志模式 **不发送邮件**，该模式多在开发者调试时使用。日志模式下，所有邮件都会直接写到日志中（日志路径：`Flarum根目录/storage/logs`）。

## 测试邮件

在保存邮箱配置后，您可以在后台管理面板的「邮箱」页面点击「发送测试邮件」发送一封邮件以检测您的配置是否可用。如果有报错，或者没有收到测试邮件，则配置有误，请检查配置然后重试。如果没有报错，且邮件发送成功，但是收件箱中仍没有测试邮件，请检查垃圾箱。
